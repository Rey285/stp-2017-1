<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<title>Admin panel</title>
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

	

	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/css/bootstrap.min.css" integrity="sha384-/Y6pD6FV/Vv2HJnA6t+vslU6fwYXjCFtcEpHbNJ0lyAFsXTsjBbfaDjzALeQsN6M" crossorigin="anonymous">



	<link rel="stylesheet" href="css/libs.min.css">
	<link rel="stylesheet" href="css/main.css">
	<script src="https://use.fontawesome.com/f2209b213b.js"></script>
	<script src="./js/js.cookie.min.js"></script>
</head>


<body>


<script>

    function init() {
        if (Cookies.get('logged') === "yes"){

        }else {
            location.href="error.html";
        }
    }
    init();

</script>

<div class="container" id="table1">





</div>

	<div class="container buttons1">
		<div class="row text-center">

			<div class="col-sm-3">
				<form id="form_username">
					<div class="form-group">
						<label for="username">Username</label>
						<input type="text" class="form-control" id="username" placeholder="username">
					</div>
				</form>
			</div>
			<div class="col-sm-3">
				<form id="form_pass">
					<div class="form-group">
						<label for="password">password</label>
						<input type="text" class="form-control" id="password" placeholder="password">
					</div>
				</form>
			</div>
			<div class="col-sm-3">
				<a href="javascript:void(0);" onclick="insert_user();" class="button" id="insert_user">Создать</a>
			</div>
			<div class="col-sm-3">
				<a href="javascript:void(0);" onclick="delete_user();" class="button" id="delete_user">Удалить</a>
			</div>


		</div>
	</div>


<div class="container" id="table2">

</div>

		<div class="container buttons2">
		<div class="row text-center">

			<div class="col-sm-3">
				<form>
					<div class="form-group">
						<label for="name">Name</label>
						<input type="text" class="form-control" id="name" placeholder="name">
					</div>
				</form>
			</div>
			<div class="col-sm-3">
				<form>
					<div class="form-group">
						<label for="path">path</label>
						<input type="text" class="form-control" id="path" placeholder="path">
					</div>
				</form>
			</div>
			<div class="col-sm-3"></div>
			<div class="col-sm-3">
				<a href="javascript:void(0);" onclick="insert_players();" class="button" id="insert_players">Создать</a>
			</div>
			<div class="col-sm-3">
				<a href="javascript:void(0);" onclick="delete_players();" class="button" id="delete_players">Удалить</a>
			</div>


		</div>
	</div>

<div class="container" id="table3">

</div>

		<div class="container table10">
		<div class="row text-center">

			<div class="col-sm-3">
				<form>
					<div class="form-group">
						<label for="name_rectangle">name</label>
						<input type="text" class="form-control" id="name_rectangle" placeholder="name_rectangle">
					</div>
				</form>
			</div>
			<div class="col-sm-3">
				<form>
					<div class="form-group">
						<label for="text">text</label>
						<input type="text" class="form-control" id="text" placeholder="text">
					</div>
				</form>
			</div>
			<div class="col-sm-3">
				<form>
					<div class="form-group">
						<label for="image_path">image_path</label>
						<input type="text" class="form-control" id="image_path" placeholder="image_path">
					</div>
				</form>
			</div>
			<div class="col-sm-3">
				<a href="javascript:void(0);" onclick="insert_rectangle();" class="button" id="insert_reviews">Создать</a>
			</div>
			<div class="col-sm-3">
				<a href="javascript:void(0);" onclick="delete_rectangle();" class="button" id="delete_reviews">Удалить</a>
			</div>


		</div>
	</div>




		<script src="js/libs.min.js"></script>
		<script src="js/jquery.js"></script>
<script>

	function insert_user(){
        $.ajax({
            type: 'POST',
            url: 'bd.php?action=insert-user',
            data: { username:  $('#username').val(), pass:  $('#password').val()},
            success: function (data) {
                alert('success');

            },
            error: function (xhr, str) {
                alert('Возникла ошибка: ' + xhr.responseCode);
            }
        });
        $('#username').val("");
        $('#password').val("");
        init();
	}
   function update_user(obj) {
       //obj.id
       $.ajax({
           type: 'POST',
           url: 'bd.php?action=update-user',
           data: { username:  $('#input_username_'+obj.id).val(), pass:  $('#input_pass_'+obj.id).val(),id: obj.id },
           success: function (data) {
               alert('success');

           },
           error: function (xhr, str) {
               alert('Возникла ошибка: ' + xhr.responseCode);
           }
       });
       init();

   }
	function delete_user() {
        $.ajax({
            type: 'POST',
            url: 'bd.php?action=delete-user',
            data: { username:  $('#username').val()},
            success: function (data) {
                alert('success');

            },
            error: function (xhr, str) {
                alert('Возникла ошибка: ' + xhr.responseCode);
            }
        });
        $('#username').val("");
        $('#password').val("");
        init();
    }

    function insert_players(){
        $.ajax({
            type: 'POST',
            url: 'bd.php?action=insert-players',
            data: { name:  $('#name').val(), path:$('#path').val()},
            success: function (data) {
                alert('success');

            },
            error: function (xhr, str) {
                alert('Возникла ошибка: ' + xhr.responseCode);
            }
        });
        $('#name').val("");
        $('#path').val("");
        init();
    }

    function update_players(obj){

        $.ajax({
            type: 'POST',
            url: 'bd.php?action=update-players',
            data: { name:  $('#input_name_'+obj.id).val(),path:$('#input_path_'+obj.id).val(),id: obj.id },
            success: function (data) {
                alert('success');

            },
            error: function (xhr, str) {
                alert('Возникла ошибка: ' + xhr.responseCode);
            }
        });
        init();

	}
    function delete_players() {
        $.ajax({
            type: 'POST',
            url: 'bd.php?action=delete-players',
            data: { name:  $('#name').val(), path:$('#path').val()},
            success: function (data) {
                alert('success');

            },
            error: function (xhr, str) {
                alert('Возникла ошибка: ' + xhr.responseCode);
            }
        });
        $('#name').val("");
        $('#path').val("");
        init();
    }


    function insert_rectangle(){
        $.ajax({
            type: 'POST',
            url: 'bd.php?action=insert-rectangle',
            data: { name:  $('#name_rectangle').val(), text:$('#text').val(), image_path:$('#image_path').val() },
            success: function (data) {
                alert('success');

            },
            error: function (xhr, str) {
                alert('Возникла ошибка: ' + xhr.responseCode);
            }
        });
        $('#name').val("");
        $('#image_path').val("");
        $('#text').val("");
        init();
    }
    function update_rectangle(obj) {
        //obj.id//
        $.ajax({
            type: 'POST',
            url: 'bd.php?action=update-rectangle',
            data: { name:  $('#input_name_rectangle_'+obj.id).val(), text:  $('#input_text_'+obj.id).val(), image_path:  $('#input_image_path_'+obj.id).val(), id: obj.id },
            success: function (data) {
                alert('success');
            },
            error: function (xhr, str) {
                alert('Возникла ошибка: ' + xhr.responseCode);
            }
        });
        init();
    }
    function delete_rectangle() {
        $.ajax({
            type: 'POST',
            url: 'bd.php?action=delete-rectangle',
            data: { name:   $('#name_rectangle').val()},
            success: function (data) {
                alert('success');

            },
            error: function (xhr, str) {
                alert('Возникла ошибка: ' + xhr.responseCode);
            }
        });
        $('#name_rectangle').val("");
        $('#date').val("");
        $('#text').val("");
        init();
    }


    function init() {

        $.get('bd.php?action=get-admin-users', function(data) {
            $('#table1').html(data);
        });
        $.get('bd.php?action=get-admin-players', function(data) {
            $('#table2').html(data);
        });
        $.get('bd.php?action=get-admin-rectangle', function(data) {
           $('#table3').html(data);
        });

    }
    init();
</script>


	</body>
	</html>